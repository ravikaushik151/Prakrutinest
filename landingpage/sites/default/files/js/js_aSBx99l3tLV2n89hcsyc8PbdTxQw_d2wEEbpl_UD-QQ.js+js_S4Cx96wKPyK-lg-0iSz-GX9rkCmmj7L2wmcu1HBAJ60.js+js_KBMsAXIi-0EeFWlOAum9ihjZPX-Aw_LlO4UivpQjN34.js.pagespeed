var mod_pagespeed_rgEEaroeF6 = "(function($){var cache={},uuid=0;$.fn.once=function(id,fn){if(typeof id!='string'){if(!(id in cache)){cache[id]=++uuid;}if(!fn){fn=id;}id='jquery-once-'+cache[id];}var name=id+'-processed';var elements=this.not('.'+name).addClass(name);return $.isFunction(fn)?elements.each(fn):elements;};$.fn.removeOnce=function(id,fn){var name=id+'-processed';var elements=this.filter('.'+name).removeClass(name);return $.isFunction(fn)?elements.each(fn):elements;};})(jQuery);;(function(a){function b(){if(a.fn.ajaxSubmit.debug){var b=\"[jquery.form] \"+Array.prototype.join.call(arguments,\"\");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(c){function r(){function t(){if(!j.aborted){var c=i.contentWindow?i.contentWindow.document:i.contentDocument?i.contentDocument:i.document;if(!c||c.location.href==e.iframeSrc)if(!m)return;i.detachEvent?i.detachEvent(\"onload\",t):i.removeEventListener(\"load\",t,!1);var d=!0;try{if(m)throw\"timeout\";var f=e.dataType==\"xml\"||c.XMLDocument||a.isXMLDoc(c);b(\"isXml=\"+f);if(!f&&window.opera&&(c.body==null||c.body.innerHTML==\"\")&&--s){b(\"requeing onLoad callback, DOM not available\"),setTimeout(t,250);return}j.responseText=c.body?c.body.innerHTML:c.documentElement?c.documentElement.innerHTML:null,j.responseXML=c.XMLDocument?c.XMLDocument:c,j.getResponseHeader=function(a){var b={\"content-type\":e.dataType};return b[a]};var g=/(json|script)/.test(e.dataType);if(g||e.textarea){var l=c.getElementsByTagName(\"textarea\")[0];if(l)j.responseText=l.value;else if(g){var n=c.getElementsByTagName(\"pre\")[0],o=c.getElementsByTagName(\"body\")[0];n?j.responseText=n.textContent:o&&(j.responseText=o.innerHTML)}}else e.dataType==\"xml\"&&!j.responseXML&&j.responseText!=null&&(j.responseXML=u(j.responseText));q=w(j,e.dataType,e)}catch(p){b(\"error caught:\",p),d=!1,j.error=p,e.error&&e.error.call(e.context,j,\"error\",p),k&&a.event.trigger(\"ajaxError\",[j,e,p])}j.aborted&&(b(\"upload aborted\"),d=!1),d&&(e.success&&e.success.call(e.context,q,\"success\",j),k&&a.event.trigger(\"ajaxSuccess\",[j,e])),k&&a.event.trigger(\"ajaxComplete\",[j,e]),k&&!--a.active&&a.event.trigger(\"ajaxStop\"),e.complete&&e.complete.call(e.context,j,d?\"success\":\"error\"),setTimeout(function(){h.removeData(\"form-plugin-onload\"),h.remove(),j.responseXML=null},100)}}function p(){var b=l.attr(\"target\"),c=l.attr(\"action\");d.setAttribute(\"target\",f),d.getAttribute(\"method\")!=\"POST\"&&d.setAttribute(\"method\",\"POST\"),d.getAttribute(\"action\")!=e.url&&d.setAttribute(\"action\",e.url),e.skipEncodingOverride||l.attr({encoding:\"multipart/form-data\",enctype:\"multipart/form-data\"}),e.timeout&&setTimeout(function(){m=!0,t()},e.timeout);var g=[];try{if(e.extraData)for(var j in e.extraData)g.push(a('<input type=\"hidden\" name=\"'+j+'\" value=\"'+e.extraData[j]+'\" />').appendTo(d)[0]);h.appendTo(\"body\"),i.attachEvent?i.attachEvent(\"onload\",t):i.addEventListener(\"load\",t,!1),d.submit()}finally{d.setAttribute(\"action\",c),b?d.setAttribute(\"target\",b):l.removeAttr(\"target\"),a(g).remove()}}var d=l[0];if(a(\":input[name=submit],:input[id=submit]\",d).length)alert('Error: Form elements must not have name or id of \"submit\".');else{var e=a.extend(!0,{},a.ajaxSettings,c);e.context=e.context||e;var f=\"jqFormIO\"+(new Date).getTime(),g=\"_\"+f,h=a('<iframe id=\"'+f+'\" name=\"'+f+'\" src=\"'+e.iframeSrc+'\" />'),i=h[0];h.css({position:\"absolute\",top:\"-1000px\",left:\"-1000px\"});var j={aborted:0,responseText:null,responseXML:null,status:0,statusText:\"n/a\",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){b(\"aborting upload...\");var c=\"aborted\";this.aborted=1,h.attr(\"src\",e.iframeSrc),j.error=c,e.error&&e.error.call(e.context,j,\"error\",c),k&&a.event.trigger(\"ajaxError\",[j,e,c]),e.complete&&e.complete.call(e.context,j,\"error\")}},k=e.global;k&&!(a.active++)&&a.event.trigger(\"ajaxStart\"),k&&a.event.trigger(\"ajaxSend\",[j,e]);if(e.beforeSend&&e.beforeSend.call(e.context,j,e)===!1){e.global&&a.active--;return}if(j.aborted)return;var m=0,n=d.clk;if(n){var o=n.name;o&&!n.disabled&&(e.extraData=e.extraData||{},e.extraData[o]=n.value,n.type==\"image\"&&(e.extraData[o+\".x\"]=d.clk_x,e.extraData[o+\".y\"]=d.clk_y))}e.forceSync?p():setTimeout(p,10);var q,r,s=50,u=a.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject(\"Microsoft.XMLDOM\"),b.async=\"false\",b.loadXML(a)):b=(new DOMParser).parseFromString(a,\"text/xml\");return b&&b.documentElement&&b.documentElement.nodeName!=\"parsererror\"?b:null},v=a.parseJSON||function(a){return window.eval(\"(\"+a+\")\")},w=function(b,c,d){var e=b.getResponseHeader(\"content-type\")||\"\",f=c===\"xml\"||!c&&e.indexOf(\"xml\")>=0,g=f?b.responseXML:b.responseText;f&&g.documentElement.nodeName===\"parsererror\"&&a.error&&a.error(\"parsererror\"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),typeof g==\"string\"&&(c===\"json\"||!c&&e.indexOf(\"json\")>=0?g=v(g):(c===\"script\"||!c&&e.indexOf(\"javascript\")>=0)&&a.globalEval(g));return g}}}if(!this.length){b(\"ajaxSubmit: skipping submit process - no element selected\");return this}typeof c==\"function\"&&(c={success:c});var d=this.attr(\"action\"),e=typeof d==\"string\"?a.trim(d):\"\";e&&(e=(e.match(/^([^#]+)/)||[])[1]),e=e||window.location.href||\"\",c=a.extend(!0,{url:e,success:a.ajaxSettings.success,type:this[0].getAttribute(\"method\")||\"GET\",iframeSrc:/^https/i.test(window.location.href||\"\")?\"javascript:false\":\"about:blank\"},c);var f={};this.trigger(\"form-pre-serialize\",[this,c,f]);if(f.veto){b(\"ajaxSubmit: submit vetoed via form-pre-serialize trigger\");return this}if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1){b(\"ajaxSubmit: submit aborted via beforeSerialize callback\");return this}var g,h,i=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(g in c.data)if(c.data[g]instanceof Array)for(var j in c.data[g])i.push({name:g,value:c.data[g][j]});else h=c.data[g],h=a.isFunction(h)?h():h,i.push({name:g,value:h})}if(c.beforeSubmit&&c.beforeSubmit(i,this,c)===!1){b(\"ajaxSubmit: submit aborted via beforeSubmit callback\");return this}this.trigger(\"form-submit-validate\",[i,this,c,f]);if(f.veto){b(\"ajaxSubmit: submit vetoed via form-submit-validate trigger\");return this}var k=a.param(i);c.type.toUpperCase()==\"GET\"?(c.url+=(c.url.indexOf(\"?\")>=0?\"&\":\"?\")+k,c.data=null):c.data=k;var l=this,m=[];c.resetForm&&m.push(function(){l.resetForm()}),c.clearForm&&m.push(function(){l.clearForm()});if(!c.dataType&&c.target){var n=c.success||function(){};m.push(function(b){var d=c.replaceTarget?\"replaceWith\":\"html\";a(c.target)[d](b).each(n,arguments)})}else c.success&&m.push(c.success);c.success=function(a,b,d){var e=c.context||c;for(var f=0,g=m.length;f<g;f++)m[f].apply(e,[a,b,d||l,l])};var o=a(\"input:file\",this).length>0,p=\"multipart/form-data\",q=l.attr(\"enctype\")==p||l.attr(\"encoding\")==p;c.iframe!==!1&&(o||c.iframe||q)?c.closeKeepAlive?a.get(c.closeKeepAlive,r):r():a.ajax(c),this.trigger(\"form-submit-notify\",[this,c]);return this},a.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!a.isReady&&d.s){b(\"DOM not ready, queuing ajaxForm\"),a(function(){a(d.s,d.c).ajaxForm(c)});return this}b(\"terminating; zero elements found by selector\"+(a.isReady?\"\":\" (DOM not ready)\"));return this}return this.ajaxFormUnbind().bind(\"submit.form-plugin\",function(b){b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}).bind(\"click.form-plugin\",function(b){var c=b.target,d=a(c);if(!d.is(\":submit,input:image\")){var e=d.closest(\":submit\");if(e.length==0)return;c=e[0]}var f=this;f.clk=c;if(c.type==\"image\")if(b.offsetX!=undefined)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if(typeof a.fn.offset==\"function\"){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})},a.fn.ajaxFormUnbind=function(){return this.unbind(\"submit.form-plugin click.form-plugin\")},a.fn.formToArray=function(b){var c=[];if(this.length===0)return c;var d=this[0],e=b?d.getElementsByTagName(\"*\"):d.elements;if(!e)return c;var f,g,h,i,j,k,l;for(f=0,k=e.length;f<k;f++){j=e[f],h=j.name;if(!h)continue;if(b&&d.clk&&j.type==\"image\"){!j.disabled&&d.clk==j&&(c.push({name:h,value:a(j).val()}),c.push({name:h+\".x\",value:d.clk_x},{name:h+\".y\",value:d.clk_y}));continue}i=a.fieldValue(j,!0);if(i&&i.constructor==Array)for(g=0,l=i.length;g<l;g++)c.push({name:h,value:i[g]});else i!==null&&typeof i!=\"undefined\"&&c.push({name:h,value:i})}if(!b&&d.clk){var m=a(d.clk),n=m[0];h=n.name,h&&!n.disabled&&n.type==\"image\"&&(c.push({name:h,value:m.val()}),c.push({name:h+\".x\",value:d.clk_x},{name:h+\".y\",value:d.clk_y}))}return c},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(!!d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else e!==null&&typeof e!=\"undefined\"&&c.push({name:this.name,value:e})}});return a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);if(g===null||typeof g==\"undefined\"||g.constructor==Array&&!g.length)continue;g.constructor==Array?a.merge(c,g):c.push(g)}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();c===undefined&&(c=!0);if(c&&(!d||b.disabled||e==\"reset\"||e==\"button\"||(e==\"checkbox\"||e==\"radio\")&&!b.checked||(e==\"submit\"||e==\"image\")&&b.form&&b.form.clk!=b||f==\"select\"&&b.selectedIndex==-1))return null;if(f==\"select\"){var g=b.selectedIndex;if(g<0)return null;var h=[],i=b.options,j=e==\"select-one\",k=j?g+1:i.length;for(var l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value);if(j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(){return this.each(function(){a(\"input,select,textarea\",this).clearFields()})},a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();a==\"text\"||a==\"password\"||b==\"textarea\"?this.value=\"\":a==\"checkbox\"||a==\"radio\"?this.checked=!1:b==\"select\"&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){(typeof this.reset==\"function\"||typeof this.reset==\"object\"&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){a===undefined&&(a=!0);return this.each(function(){this.disabled=!a})},a.fn.selected=function(b){b===undefined&&(b=!0);return this.each(function(){var c=this.type;if(c==\"checkbox\"||c==\"radio\")this.checked=b;else if(this.tagName.toLowerCase()==\"option\"){var d=a(this).parent(\"select\");b&&d[0]&&d[0].type==\"select-one\"&&d.find(\"option\").selected(!1),this.selected=b}})}})(jQuery);(function($){$.fn.drupalGetSummary=function(){var callback=this.data(\"summaryCallback\");return this[0]&&callback?$.trim(callback(this[0])):\"\"};$.fn.drupalSetSummary=function(callback){var self=this;if(typeof callback!=\"function\"){var val=callback;callback=function(){return val}}return this.data(\"summaryCallback\",callback).unbind(\"formUpdated.summary\").bind(\"formUpdated.summary\",function(){self.trigger(\"summaryUpdated\")}).trigger(\"summaryUpdated\")};Drupal.behaviors.formUpdated={attach:function(context){var events=\"change.formUpdated click.formUpdated blur.formUpdated keyup.formUpdated\";$(context).find(\":input\").andSelf().filter(\":input\").unbind(events).bind(events,function(){$(this).trigger(\"formUpdated\")})}};Drupal.behaviors.fillUserInfoFromCookie={attach:function(context,settings){$(\"form.user-info-from-cookie\").once(\"user-info-from-cookie\",function(){var formContext=this;$.each([\"name\",\"mail\",\"homepage\"],function(){var $element=$(\"[name=\"+this+\"]\",formContext);var cookie=$.cookie(\"Drupal.visitor.\"+this);if($element.length&&cookie)$element.val(cookie)})})}}})(jQuery);;(function($){Drupal.ajax=Drupal.ajax||{};Drupal.settings.urlIsAjaxTrusted=Drupal.settings.urlIsAjaxTrusted||{};Drupal.behaviors.AJAX={attach:function(context,settings){for(var base in settings.ajax){if(!$('#'+base+'.ajax-processed').length){var element_settings=settings.ajax[base];if(typeof element_settings.selector=='undefined'){element_settings.selector='#'+base;}$(element_settings.selector).each(function(){element_settings.element=this;Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);});$('#'+base).addClass('ajax-processed');}}$('.use-ajax:not(.ajax-processed)').addClass('ajax-processed').each(function(){var element_settings={};element_settings.progress={'type':'throbber'};if($(this).attr('href')){element_settings.url=$(this).attr('href');element_settings.event='click';}var base=$(this).attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);});$('.use-ajax-submit:not(.ajax-processed)').addClass('ajax-processed').each(function(){var element_settings={};element_settings.url=$(this.form).attr('action');element_settings.setClick=true;element_settings.event='click';element_settings.progress={'type':'throbber'};var base=$(this).attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);});}};Drupal.ajax=function(base,element,element_settings){var defaults={url:'system/ajax',event:'mousedown',keypress:true,selector:'#'+base,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{'js':true}};$.extend(this,defaults,element_settings);this.element=element;this.element_settings=element_settings;this.url=element_settings.url.replace(/\\/nojs(\\/|$|\\?|&|#)/g,'/ajax$1');if(Drupal.settings.urlIsAjaxTrusted[element_settings.url]){Drupal.settings.urlIsAjaxTrusted[this.url]=true;}this.wrapper='#'+element_settings.wrapper;if(this.element.form){this.form=$(this.element.form);}var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function(element_settings,options){return ajax.beforeSerialize(element_settings,options);},beforeSubmit:function(form_values,element_settings,options){ajax.ajaxing=true;return ajax.beforeSubmit(form_values,element_settings,options);},beforeSend:function(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success:function(response,status,xmlhttprequest){if(typeof response=='string'){response=$.parseJSON(response);}if(response!==null&&!Drupal.settings.urlIsAjaxTrusted[ajax.url]){if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t(\"The response failed verification so will not be processed.\");return ajax.error(xmlhttprequest,ajax.url,customMessage);}}return ajax.success(response,status);},complete:function(xmlhttprequest,status){ajax.ajaxing=false;if(status=='error'||status=='parsererror'){return ajax.error(xmlhttprequest,ajax.url);}},dataType:'json',type:'POST'};$(ajax.element).bind(element_settings.event,function(event){if(!Drupal.settings.urlIsAjaxTrusted[ajax.url]&&!Drupal.urlIsLocal(ajax.url)){throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));}return ajax.eventResponse(this,event);});if(element_settings.keypress){$(ajax.element).keypress(function(event){return ajax.keypressResponse(this,event);});}if(element_settings.prevent){$(ajax.element).bind(element_settings.prevent,false);}};Drupal.ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which==13||(event.which==32&&element.type!='text'&&element.type!='textarea')){$(ajax.element_settings.element).trigger(ajax.element_settings.event);return false;}};Drupal.ajax.prototype.eventResponse=function(element,event){var ajax=this;if(ajax.ajaxing){return false;}try{if(ajax.form){if(ajax.setClick){element.form.clk=element;}ajax.form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;alert(\"An error occurred while attempting to process \"+ajax.options.url+\": \"+e.message);}if(typeof element.type!='undefined'&&(element.type=='checkbox'||element.type=='radio')){return true;}else{return false;}};Drupal.ajax.prototype.beforeSerialize=function(element,options){if(this.form){var settings=this.settings||Drupal.settings;Drupal.detachBehaviors(this.form,settings,'serialize');}options.data['ajax_html_ids[]']=[];$('[id]').each(function(){options.data['ajax_html_ids[]'].push(this.id);});options.data['ajax_page_state[theme]']=Drupal.settings.ajaxPageState.theme;options.data['ajax_page_state[theme_token]']=Drupal.settings.ajaxPageState.theme_token;for(var key in Drupal.settings.ajaxPageState.css){options.data['ajax_page_state[css]['+key+']']=1;}for(var key in Drupal.settings.ajaxPageState.js){options.data['ajax_page_state[js]['+key+']']=1;}};Drupal.ajax.prototype.beforeSubmit=function(form_values,element,options){};Drupal.ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=Drupal.checkPlain(v);}}$(this.element).addClass('progress-disabled').attr('disabled',true);if(this.progress.type=='bar'){var progressBar=new Drupal.progressBar('ajax-progress-'+this.element.id,eval(this.progress.update_callback),this.progress.method,eval(this.progress.error_callback));if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}this.progress.element=$(progressBar.element).addClass('ajax-progress ajax-progress-bar');this.progress.object=progressBar;$(this.element).after(this.progress.element);}else if(this.progress.type=='throbber'){this.progress.element=$('<div class=\"ajax-progress ajax-progress-throbber\"><div class=\"throbber\">&nbsp;</div></div>');if(this.progress.message){$('.throbber',this.progress.element).after('<div class=\"message\">'+this.progress.message+'</div>');}$(this.element).after(this.progress.element);}};Drupal.ajax.prototype.success=function(response,status){if(this.progress.element){$(this.progress.element).remove();}if(this.progress.object){this.progress.object.stopMonitoring();}$(this.element).removeClass('progress-disabled').removeAttr('disabled');Drupal.freezeHeight();for(var i in response){if(response.hasOwnProperty(i)&&response[i]['command']&&this.commands[response[i]['command']]){this.commands[response[i]['command']](this,response[i],status);}}if(this.form){var settings=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings);}Drupal.unfreezeHeight();this.settings=null;};Drupal.ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type=='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type=='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=type+'Toggle';effect.hideEffect=type+'Toggle';effect.showSpeed=speed;}return effect;};Drupal.ajax.prototype.error=function(xmlhttprequest,uri,customMessage){Drupal.displayAjaxError(Drupal.ajaxError(xmlhttprequest,uri,customMessage));if(this.progress.element){$(this.progress.element).remove();}if(this.progress.object){this.progress.object.stopMonitoring();}$(this.wrapper).show();$(this.element).removeClass('progress-disabled').removeAttr('disabled');if(this.form){var settings=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings);}};Drupal.ajax.prototype.commands={insert:function(ajax,response,status){var wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var new_content_wrapped=$('<div></div>').html(response.data);var new_content=new_content_wrapped.contents();if(new_content.length!=1||new_content.get(0).nodeType!=1){new_content=new_content_wrapped;}switch(method){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':var settings=response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors(wrapper,settings);}wrapper[method](new_content);if(effect.showEffect!='show'){new_content.hide();}if($('.ajax-new-content',new_content).length>0){$('.ajax-new-content',new_content).hide();new_content.show();$('.ajax-new-content',new_content)[effect.showEffect](effect.showSpeed);}else if(effect.showEffect!='show'){new_content[effect.showEffect](effect.showSpeed);}if(new_content.parents('html').length>0){var settings=response.settings||ajax.settings||Drupal.settings;Drupal.attachBehaviors(new_content,settings);}},remove:function(ajax,response,status){var settings=response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors($(response.selector),settings);$(response.selector).remove();},changed:function(ajax,response,status){if(!$(response.selector).hasClass('ajax-changed')){$(response.selector).addClass('ajax-changed');if(response.asterisk){$(response.selector).find(response.asterisk).append(' <span class=\"ajax-changed\">*</span> ');}}},alert:function(ajax,response,status){alert(response.text,response.title);},css:function(ajax,response,status){$(response.selector).css(response.argument);},settings:function(ajax,response,status){if(response.merge){$.extend(true,Drupal.settings,response.settings);}else{ajax.settings=response.settings;}},data:function(ajax,response,status){$(response.selector).data(response.name,response.value);},invoke:function(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,response.arguments);},restripe:function(ajax,response,status){$('> tbody > tr:visible, > tr:visible',$(response.selector)).removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},add_css:function(ajax,response,status){$('head').prepend(response.data);var match,importMatch=/^@import url\\(\"(.*)\"\\);$/igm;if(document.styleSheets[0].addImport&&importMatch.test(response.data)){importMatch.lastIndex=0;while(match=importMatch.exec(response.data)){document.styleSheets[0].addImport(match[1]);}}},updateBuildId:function(ajax,response,status){$('input[name=\"form_build_id\"][value=\"'+response['old']+'\"]').val(response['new']);}};})(jQuery);;(function(D){var beforeSerialize=D.ajax.prototype.beforeSerialize;D.ajax.prototype.beforeSerialize=function(element,options){beforeSerialize.call(this,element,options);options.data[\"ajax_page_state[jquery_version]\"]=D.settings.ajaxPageState.jquery_version}})(Drupal);;";
var mod_pagespeed_eveWpqbl6H = "(function($){Drupal.behaviors.webform_tracking={extra_parameters:{\"source\":\"s\",\"medium\":\"m\",\"version\":\"v\",\"other\":\"o\",\"term\":\"t\",\"campaign\":\"c\",\"refsid\":\"refsid\"},google_analytics:{\"source\":\"utm_source\",\"medium\":\"utm_medium\",\"term\":\"utm_term\",\"version\":\"utm_content\",\"campaign\":\"utm_campaign\"},attach:function(context){if(context==document)this.run()},extract_parameters:function(parameters){var data={};var map=this.extra_parameters;for(var key in map){var candidates=[key,map[key],this.google_analytics[key]];for(var i=0,l=candidates.length;i<l;i++){var value=parameters[candidates[i]];if(value){data[key]=value;break}}}return data},history_add:function(history,url){var length=history.length;if(length){if(history[history.length-1]!=url)history.push(url)}else length=history.push(url);if(length>10){history=[history[0]];$.merge(history,history.slice(-3))}},run:function(){var tracking_data=$.extend({history:[],tags:[]},JSON.parse($.cookie(\"webform_tracking\"))||{});var parameters=this.get_url_parameters();var base_url=Drupal.settings.webform_tracking.base_url;var dnt=window.navigator.doNotTrack;var respect_dnt=Drupal.settings.webform_tracking.respect_dnt;if((dnt===\"yes\"||dnt==\"1\")&&respect_dnt)return;tracking_data.user_id=tracking_data.user_id||this.new_user_id();var tags=tracking_data.tags||[];if(typeof parameters[\"tag\"]!==\"undefined\")$.merge(tags,parameters[\"tag\"].split(\",\"));tracking_data.tags=this.sort_unique(tags);$.extend(tracking_data,this.extract_parameters(parameters));if(typeof tracking_data[\"external_referer\"]===\"undefined\")if(document.referrer.indexOf(base_url)!==0)tracking_data[\"external_referer\"]=document.referrer;else if(typeof parameters[\"external_referer\"]!==\"undefined\"&&parameters[\"external_referer\"].indexOf(base_url)!==0)tracking_data[\"external_referer\"]=parameters[\"external_referer\"];this.history_add(tracking_data.history,window.location.href);$.cookie(\"webform_tracking\",JSON.stringify(tracking_data),{path:\"/\"})},get_url_parameters:function(){var parameters={};var variables=window.location.search.substring(1).split(\"&\");for(var i=0;i<variables.length;i++){var parameter=variables[i].split(\"=\");parameters[parameter[0]]=parameter[1]}return parameters},new_user_id:function(){var adler32=function(a,b,c,d,e,f){for(b=65521,c=1,d=e=0;f=a.charCodeAt(e++);d=(d+c)%b)c=(c+f)%b;return d<<16|c};return adler32(String(Math.random()+Date.now()))},sort_unique:function(array){if(!array.length)return array;array=array.sort(function(a,b){return a-b});var result=[array[0]];for(var i=1;i<array.length;i++)if(array[i-1]!==array[i])result.push(array[i]);return result}}})(jQuery);;";
var mod_pagespeed_h10vwpc46r = "(function(t,e,i){function n(i,n,o){var r=e.createElement(i);return n&&(r.id=Z+n),o&&(r.style.cssText=o),t(r)}function o(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(n=t(this.el).attr(\"data-cbox-\"+e),void 0!==n?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==X[e]&&(this.cache[e]=X[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function h(t){var e=W.length,i=(A+t)%e;return 0>i?e+i:i}function a(t,e){return Math.round((/%/.test(t)?(\"x\"===e?E.width():o())/100:1)*parseInt(t,10))}function s(t,e){return t.get(\"photo\")||t.get(\"photoRegex\").test(e)}function l(t,e){return t.get(\"retinaUrl\")&&i.devicePixelRatio>1?e.replace(t.get(\"photoRegex\"),t.get(\"retinaSuffix\")):e}function d(t){\"contains\"in x[0]&&!x[0].contains(t.target)&&t.target!==v[0]&&(t.stopPropagation(),x.focus())}function c(t){c.str!==t&&(x.add(v).removeClass(c.str).addClass(t),c.str=t)}function g(e){A=0,e&&e!==!1&&\"nofollow\"!==e?(W=t(\".\"+te).filter(function(){var i=t.data(this,Y),n=new r(this,i);return n.get(\"rel\")===e}),A=W.index(_.el),-1===A&&(W=W.add(_.el),A=W.length-1)):W=t(_.el)}function u(i){t(e).trigger(i),ae.triggerHandler(i)}function f(i){var o;if(!G){if(o=t(i).data(Y),_=new r(i,o),g(_.get(\"rel\")),!U){U=$=!0,c(_.get(\"className\")),x.css({visibility:\"hidden\",display:\"block\",opacity:\"\"}),I=n(se,\"LoadedContent\",\"width:0; height:0; overflow:hidden; visibility:hidden\"),b.css({width:\"\",height:\"\"}).append(I),j=T.height()+k.height()+b.outerHeight(!0)-b.height(),D=C.width()+H.width()+b.outerWidth(!0)-b.width(),N=I.outerHeight(!0),z=I.outerWidth(!0);var h=a(_.get(\"initialWidth\"),\"x\"),s=a(_.get(\"initialHeight\"),\"y\"),l=_.get(\"maxWidth\"),f=_.get(\"maxHeight\");_.w=Math.max((l!==!1?Math.min(h,a(l,\"x\")):h)-z-D,0),_.h=Math.max((f!==!1?Math.min(s,a(f,\"y\")):s)-N-j,0),I.css({width:\"\",height:_.h}),J.position(),u(ee),_.get(\"onOpen\"),O.add(F).hide(),x.focus(),_.get(\"trapFocus\")&&e.addEventListener&&(e.addEventListener(\"focus\",d,!0),ae.one(re,function(){e.removeEventListener(\"focus\",d,!0)})),_.get(\"returnFocus\")&&ae.one(re,function(){t(_.el).focus()})}var p=parseFloat(_.get(\"opacity\"));v.css({opacity:p===p?p:\"\",cursor:_.get(\"overlayClose\")?\"pointer\":\"\",visibility:\"visible\"}).show(),_.get(\"closeButton\")?B.html(_.get(\"close\")).appendTo(b):B.appendTo(\"<div/>\"),w()}}function p(){x||(V=!1,E=t(i),x=n(se).attr({id:Y,\"class\":t.support.opacity===!1?Z+\"IE\":\"\",role:\"dialog\",tabindex:\"-1\"}).hide(),v=n(se,\"Overlay\").hide(),L=t([n(se,\"LoadingOverlay\")[0],n(se,\"LoadingGraphic\")[0]]),y=n(se,\"Wrapper\"),b=n(se,\"Content\").append(F=n(se,\"Title\"),R=n(se,\"Current\"),P=t('<button type=\"button\"/>').attr({id:Z+\"Previous\"}),K=t('<button type=\"button\"/>').attr({id:Z+\"Next\"}),S=t('<button type=\"button\"/>').attr({id:Z+\"Slideshow\"}),L),B=t('<button type=\"button\"/>').attr({id:Z+\"Close\"}),y.append(n(se).append(n(se,\"TopLeft\"),T=n(se,\"TopCenter\"),n(se,\"TopRight\")),n(se,!1,\"clear:left\").append(C=n(se,\"MiddleLeft\"),b,H=n(se,\"MiddleRight\")),n(se,!1,\"clear:left\").append(n(se,\"BottomLeft\"),k=n(se,\"BottomCenter\"),n(se,\"BottomRight\"))).find(\"div div\").css({\"float\":\"left\"}),M=n(se,!1,\"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;\"),O=K.add(P).add(R).add(S)),e.body&&!x.parent().length&&t(e.body).append(v,x.append(y,M))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return x?(V||(V=!0,K.click(function(){J.next()}),P.click(function(){J.prev()}),B.click(function(){J.close()}),v.click(function(){_.get(\"overlayClose\")&&J.close()}),t(e).bind(\"keydown.\"+Z,function(t){var e=t.keyCode;U&&_.get(\"escKey\")&&27===e&&(t.preventDefault(),J.close()),U&&_.get(\"arrowKey\")&&W[1]&&!t.altKey&&(37===e?(t.preventDefault(),P.click()):39===e&&(t.preventDefault(),K.click()))}),t.isFunction(t.fn.on)?t(e).on(\"click.\"+Z,\".\"+te,i):t(\".\"+te).live(\"click.\"+Z,i)),!0):!1}function w(){var e,o,r,h=J.prep,d=++le;if($=!0,q=!1,u(he),u(ie),_.get(\"onLoad\"),_.h=_.get(\"height\")?a(_.get(\"height\"),\"y\")-N-j:_.get(\"innerHeight\")&&a(_.get(\"innerHeight\"),\"y\"),_.w=_.get(\"width\")?a(_.get(\"width\"),\"x\")-z-D:_.get(\"innerWidth\")&&a(_.get(\"innerWidth\"),\"x\"),_.mw=_.w,_.mh=_.h,_.get(\"maxWidth\")&&(_.mw=a(_.get(\"maxWidth\"),\"x\")-z-D,_.mw=_.w&&_.w<_.mw?_.w:_.mw),_.get(\"maxHeight\")&&(_.mh=a(_.get(\"maxHeight\"),\"y\")-N-j,_.mh=_.h&&_.h<_.mh?_.h:_.mh),e=_.get(\"href\"),Q=setTimeout(function(){L.show()},100),_.get(\"inline\")){var c=t(e).eq(0);r=t(\"<div>\").hide().insertBefore(c),ae.one(he,function(){r.replaceWith(c)}),h(c)}else _.get(\"iframe\")?h(\" \"):_.get(\"html\")?h(_.get(\"html\")):s(_,e)?(e=l(_,e),q=_.get(\"createImg\"),t(q).addClass(Z+\"Photo\").bind(\"error.\"+Z,function(){h(n(se,\"Error\").html(_.get(\"imgError\")))}).one(\"load\",function(){d===le&&setTimeout(function(){var e;_.get(\"retinaImage\")&&i.devicePixelRatio>1&&(q.height=q.height/i.devicePixelRatio,q.width=q.width/i.devicePixelRatio),_.get(\"scalePhotos\")&&(o=function(){q.height-=q.height*e,q.width-=q.width*e},_.mw&&q.width>_.mw&&(e=(q.width-_.mw)/q.width,o()),_.mh&&q.height>_.mh&&(e=(q.height-_.mh)/q.height,o())),_.h&&(q.style.marginTop=Math.max(_.mh-q.height,0)/2+\"px\"),W[1]&&(_.get(\"loop\")||W[A+1])&&(q.style.cursor=\"pointer\",t(q).bind(\"click.\"+Z,function(){J.next()})),q.style.width=q.width+\"px\",q.style.height=q.height+\"px\",h(q)},1)}),q.src=e):e&&M.load(e,_.get(\"data\"),function(e,i){d===le&&h(\"error\"===i?n(se,\"Error\").html(_.get(\"xhrError\")):t(this).contents())})}var v,x,y,b,T,C,H,k,W,E,I,M,L,F,R,S,K,P,B,O,_,j,D,N,z,A,q,U,$,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:\"elastic\",speed:300,fadeOut:300,width:!1,initialWidth:\"600\",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:\"450\",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:\"start slideshow\",slideshowStop:\"stop slideshow\",photoRegex:/\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:\"@2x.$1\",current:\"image {current} of {total}\",previous:\"previous\",next:\"next\",close:\"close\",xhrError:\"This content failed to load.\",imgError:\"This image failed to load.\",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr(\"href\")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data(\"cbox-img-attrs\");return\"object\"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement(\"iframe\"),n=t(this).data(\"cbox-iframe-attrs\");return\"object\"==typeof n&&t.each(n,function(t,e){i[t]=e}),\"frameBorder\"in i&&(i.frameBorder=0),\"allowTransparency\"in i&&(i.allowTransparency=\"true\"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},Y=\"colorbox\",Z=\"cbox\",te=Z+\"Element\",ee=Z+\"_open\",ie=Z+\"_load\",ne=Z+\"_complete\",oe=Z+\"_cleanup\",re=Z+\"_closed\",he=Z+\"_purge\",ae=t(\"<a/>\"),se=\"div\",le=0,de={},ce=function(){function t(){clearTimeout(h)}function e(){(_.get(\"loop\")||W[A+1])&&(t(),h=setTimeout(J.next,_.get(\"slideshowSpeed\")))}function i(){S.html(_.get(\"slideshowStop\")).unbind(s).one(s,n),ae.bind(ne,e).bind(ie,t),x.removeClass(a+\"off\").addClass(a+\"on\")}function n(){t(),ae.unbind(ne,e).unbind(ie,t),S.html(_.get(\"slideshowStart\")).unbind(s).one(s,function(){J.next(),i()}),x.removeClass(a+\"on\").addClass(a+\"off\")}function o(){r=!1,S.hide(),t(),ae.unbind(ne,e).unbind(ie,t),x.removeClass(a+\"off \"+a+\"on\")}var r,h,a=Z+\"Slideshow_\",s=\"click.\"+Z;return function(){r?_.get(\"slideshow\")||(ae.unbind(oe,o),o()):_.get(\"slideshow\")&&W[1]&&(r=!0,ae.one(oe,o),_.get(\"slideshowAuto\")?i():n(),S.show())}}();t[Y]||(t(p),J=t.fn[Y]=t[Y]=function(e,i){var n,o=this;return e=e||{},t.isFunction(o)&&(o=t(\"<a/>\"),e.open=!0),o[0]?(p(),m()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,Y)||{};t.data(this,Y,t.extend(i,e))}).addClass(te),n=new r(o[0],e),n.get(\"open\")&&f(o[0])),o):o},J.position=function(e,i){function n(){T[0].style.width=k[0].style.width=b[0].style.width=parseInt(x[0].style.width,10)-D+\"px\",b[0].style.height=C[0].style.height=H[0].style.height=parseInt(x[0].style.height,10)-j+\"px\"}var r,h,s,l=0,d=0,c=x.offset();if(E.unbind(\"resize.\"+Z),x.css({top:-9e4,left:-9e4}),h=E.scrollTop(),s=E.scrollLeft(),_.get(\"fixed\")?(c.top-=h,c.left-=s,x.css({position:\"fixed\"})):(l=h,d=s,x.css({position:\"absolute\"})),d+=_.get(\"right\")!==!1?Math.max(E.width()-_.w-z-D-a(_.get(\"right\"),\"x\"),0):_.get(\"left\")!==!1?a(_.get(\"left\"),\"x\"):Math.round(Math.max(E.width()-_.w-z-D,0)/2),l+=_.get(\"bottom\")!==!1?Math.max(o()-_.h-N-j-a(_.get(\"bottom\"),\"y\"),0):_.get(\"top\")!==!1?a(_.get(\"top\"),\"y\"):Math.round(Math.max(o()-_.h-N-j,0)/2),x.css({top:c.top,left:c.left,visibility:\"visible\"}),y[0].style.width=y[0].style.height=\"9999px\",r={width:_.w+z+D,height:_.h+N+j,top:l,left:d},e){var g=0;t.each(r,function(t){return r[t]!==de[t]?(g=e,void 0):void 0}),e=g}de=r,e||x.css(r),x.dequeue().animate(r,{duration:e||0,complete:function(){n(),$=!1,y[0].style.width=_.w+z+D+\"px\",y[0].style.height=_.h+N+j+\"px\",_.get(\"reposition\")&&setTimeout(function(){E.bind(\"resize.\"+Z,J.position)},1),t.isFunction(i)&&i()},step:n})},J.resize=function(t){var e;U&&(t=t||{},t.width&&(_.w=a(t.width,\"x\")-z-D),t.innerWidth&&(_.w=a(t.innerWidth,\"x\")),I.css({width:_.w}),t.height&&(_.h=a(t.height,\"y\")-N-j),t.innerHeight&&(_.h=a(t.innerHeight,\"y\")),t.innerHeight||t.height||(e=I.scrollTop(),I.css({height:\"auto\"}),_.h=I.height()),I.css({height:_.h}),e&&I.scrollTop(e),J.position(\"none\"===_.get(\"transition\")?0:_.get(\"speed\")))},J.prep=function(i){function o(){return _.w=_.w||I.width(),_.w=_.mw&&_.mw<_.w?_.mw:_.w,_.w}function a(){return _.h=_.h||I.height(),_.h=_.mh&&_.mh<_.h?_.mh:_.h,_.h}if(U){var d,g=\"none\"===_.get(\"transition\")?0:_.get(\"speed\");I.remove(),I=n(se,\"LoadedContent\").append(i),I.hide().appendTo(M.show()).css({width:o(),overflow:_.get(\"scrolling\")?\"auto\":\"hidden\"}).css({height:a()}).prependTo(b),M.hide(),t(q).css({\"float\":\"none\"}),c(_.get(\"className\")),d=function(){function i(){t.support.opacity===!1&&x[0].style.removeAttribute(\"filter\")}var n,o,a=W.length;U&&(o=function(){clearTimeout(Q),L.hide(),u(ne),_.get(\"onComplete\")},F.html(_.get(\"title\")).show(),I.show(),a>1?(\"string\"==typeof _.get(\"current\")&&R.html(_.get(\"current\").replace(\"{current}\",A+1).replace(\"{total}\",a)).show(),K[_.get(\"loop\")||a-1>A?\"show\":\"hide\"]().html(_.get(\"next\")),P[_.get(\"loop\")||A?\"show\":\"hide\"]().html(_.get(\"previous\")),ce(),_.get(\"preloading\")&&t.each([h(-1),h(1)],function(){var i,n=W[this],o=new r(n,t.data(n,Y)),h=o.get(\"href\");h&&s(o,h)&&(h=l(o,h),i=e.createElement(\"img\"),i.src=h)})):O.hide(),_.get(\"iframe\")?(n=_.get(\"createIframe\"),_.get(\"scrolling\")||(n.scrolling=\"no\"),t(n).attr({src:_.get(\"href\"),\"class\":Z+\"Iframe\"}).one(\"load\",o).appendTo(I),ae.one(he,function(){n.src=\"//about:blank\"}),_.get(\"fastIframe\")&&t(n).trigger(\"load\")):o(),\"fade\"===_.get(\"transition\")?x.fadeTo(g,1,i):i())},\"fade\"===_.get(\"transition\")?x.fadeTo(g,0,function(){J.position(0,d)}):J.position(g,d)}},J.next=function(){!$&&W[1]&&(_.get(\"loop\")||W[A+1])&&(A=h(1),f(W[A]))},J.prev=function(){!$&&W[1]&&(_.get(\"loop\")||A)&&(A=h(-1),f(W[A]))},J.close=function(){U&&!G&&(G=!0,U=!1,u(oe),_.get(\"onCleanup\"),E.unbind(\".\"+Z),v.fadeTo(_.get(\"fadeOut\")||0,0),x.stop().fadeTo(_.get(\"fadeOut\")||0,0,function(){x.hide(),v.hide(),u(he),I.remove(),setTimeout(function(){G=!1,u(re),_.get(\"onClosed\")},1)}))},J.remove=function(){x&&(x.stop(),t[Y].close(),x.stop(!1,!0).remove(),v.remove(),G=!1,x=null,t(\".\"+te).removeData(Y).removeClass(te),t(e).unbind(\"click.\"+Z).unbind(\"keydown.\"+Z))},J.element=function(){return t(_.el)},J.settings=X)})(jQuery,document,window);;(function($){Drupal.behaviors.initColorbox={attach:function(context,settings){if(!$.isFunction($.colorbox)||typeof settings.colorbox===\"undefined\")return;if(settings.colorbox.mobiledetect&&window.matchMedia){var mq=window.matchMedia(\"(max-device-width: \"+settings.colorbox.mobiledevicewidth+\")\");if(mq.matches)return}settings.colorbox.rel=function(){if($(this).data(\"colorbox-gallery\"))return $(this).data(\"colorbox-gallery\");else return $(this).attr(\"rel\")};$(\".colorbox\",context).once(\"init-colorbox\").colorbox(settings.colorbox);$(context).bind(\"cbox_complete\",function(){Drupal.attachBehaviors(\"#cboxLoadedContent\")})}}})(jQuery);;(function($){Drupal.behaviors.initColorboxDefaultStyle={attach:function(context,settings){$(context).bind(\"cbox_complete\",function(){if($(\"#cboxTitle:empty\",context).length==false){$(\"#cboxLoadedContent img\",context).bind(\"mouseover\",function(){$(\"#cboxTitle\",context).slideDown()});$(\"#cboxOverlay\",context).bind(\"mouseover\",function(){$(\"#cboxTitle\",context).slideUp()})}else $(\"#cboxTitle\",context).hide()})}}})(jQuery);;(function($){Drupal.behaviors.initColorboxLoad={attach:function(context,settings){if(!$.isFunction($.colorbox)||typeof settings.colorbox===\"undefined\")return;if(settings.colorbox.mobiledetect&&window.matchMedia){var mq=window.matchMedia(\"(max-device-width: \"+settings.colorbox.mobiledevicewidth+\")\");if(mq.matches)return}$.urlParams=function(url){var p={},e,a=/\\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a,\" \"))},q=url.split(\"?\");while(e=r.exec(q[1])){e[1]=d(e[1]);e[2]=d(e[2]);switch(e[2].toLowerCase()){case\"true\":case\"yes\":e[2]=true;break;case\"false\":case\"no\":e[2]=false;break}if(e[1]==\"width\")e[1]=\"innerWidth\";if(e[1]==\"height\")e[1]=\"innerHeight\";p[e[1]]=e[2]}return p};$(\".colorbox-load\",context).once(\"init-colorbox-load\",function(){var params=$.urlParams($(this).attr(\"href\"));$(this).colorbox($.extend({},settings.colorbox,params))})}}})(jQuery);;(function($){Drupal.Views={};Drupal.behaviors.viewsTabs={attach:function(context){if($.viewsUi&&$.viewsUi.tabs)$(\"#views-tabset\").once(\"views-processed\").viewsTabs({selectedClass:\"active\"});$(\"a.views-remove-link\").once(\"views-processed\").click(function(event){var id=$(this).attr(\"id\").replace(\"views-remove-link-\",\"\");$(\"#views-row-\"+id).hide();$(\"#views-removed-\"+id).attr(\"checked\",true);event.preventDefault()});$(\"a.display-remove-link\").addClass(\"display-processed\").click(function(){var id=$(this).attr(\"id\").replace(\"display-remove-link-\",\"\");$(\"#display-row-\"+id).hide();$(\"#display-removed-\"+id).attr(\"checked\",true);return false})}};Drupal.Views.parseQueryString=function(query){var args={};var pos=query.indexOf(\"?\");if(pos!=-1)query=query.substring(pos+1);var pairs=query.split(\"&\");for(var i in pairs)if(typeof pairs[i]==\"string\"){var pair=pairs[i].split(\"=\");if(pair[0]!=\"q\"&&pair[1])args[decodeURIComponent(pair[0].replace(/\\+/g,\" \"))]=decodeURIComponent(pair[1].replace(/\\+/g,\" \"))}return args};Drupal.Views.parseViewArgs=function(href,viewPath){if(Drupal.settings.pathPrefix)var viewPath=Drupal.settings.pathPrefix+viewPath;var returnObj={};var path=Drupal.Views.getPath(href);if(viewPath&&path.substring(0,viewPath.length+1)==viewPath+\"/\"){var args=decodeURIComponent(path.substring(viewPath.length+1,path.length));returnObj.view_args=args;returnObj.view_path=path}return returnObj};Drupal.Views.pathPortion=function(href){var protocol=window.location.protocol;if(href.substring(0,protocol.length)==protocol)href=href.substring(href.indexOf(\"/\",protocol.length+2));return href};Drupal.Views.getPath=function(href){href=Drupal.Views.pathPortion(href);href=href.substring(Drupal.settings.basePath.length,href.length);if(href.substring(0,3)==\"?q=\")href=href.substring(3,href.length);var chars=[\"#\",\"?\",\"&\"];for(var i in chars)if(href.indexOf(chars[i])>-1)href=href.substr(0,href.indexOf(chars[i]));return href}})(jQuery);;(function($){Drupal.progressBar=function(id,updateCallback,method,errorCallback){var pb=this;this.id=id;this.method=method||\"GET\";this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$('<div class=\"progress\" aria-live=\"polite\"></div>').attr(\"id\",id);this.element.html('<div class=\"bar\"><div class=\"filled\"></div></div>'+'<div class=\"percentage\"></div>'+'<div class=\"message\">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(percentage,message){if(percentage>=0&&percentage<=100){$(\"div.filled\",this.element).css(\"width\",percentage+\"%\");$(\"div.percentage\",this.element).html(percentage+\"%\")}$(\"div.message\",this.element).html(message);if(this.updateCallback)this.updateCallback(percentage,message,this)};Drupal.progressBar.prototype.startMonitoring=function(uri,delay){this.delay=delay;this.uri=uri;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer)clearTimeout(this.timer);if(this.uri){var pb=this;$.ajax({type:this.method,url:this.uri,data:\"\",dataType:\"json\",success:function(progress){if(progress.status==0){pb.displayError(progress.data);return}pb.setProgress(progress.percentage,progress.message);pb.timer=setTimeout(function(){pb.sendPing()},pb.delay)},error:function(xmlhttp){pb.displayError(Drupal.ajaxError(xmlhttp,pb.uri))}})}};Drupal.progressBar.prototype.displayError=function(string){var error=$('<div class=\"messages error\"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this)}})(jQuery);;(function($){var toggler_click=function(){$(this).parent().toggleClass(\"responsive-toggled\")};function remove_mouse_events(menuElement){var jqVersion=$.fn.jquery;if(jqVersion<1.7){$(menuElement).die(\"mouseover mouseout mouseenter mouseleave\");$(menuElement+\" li\").die(\"mouseover mouseout mouseenter mouseleave\");$(menuElement+\" li a\").die(\"mouseover mouseout mouseenter mouseleave\")}else{$(menuElement).off(\"hover\");$(menuElement+\" li\").off(\"hover\");$(menuElement+\" li a\").off(\"hover\")}$(menuElement).unbind(\"mouseover mouseout mouseenter mouseleave\");$(menuElement+\" li\").unbind(\"mouseover mouseout mouseenter mouseleave\");$(menuElement+\" li a\").unbind(\"mouseover mouseout mouseenter mouseleave\")}function store_classes_ids(menuElement){if(!$(menuElement).attr(\"id\"))$(menuElement).attr(\"id\",\"rm-no-id-main\");if(!$(menuElement).attr(\"class\"))$(menuElement).attr(\"class\",\"rm-no-class\");$(menuElement).data(\"removeattr\",true).data(\"rmids\",$(menuElement).attr(\"id\")).data(\"rmclasses\",$(menuElement).attr(\"class\"));var incr=0;$(menuElement).find(\"ul\").each(function(){incr++;if(!$(this).attr(\"id\"))$(this).attr(\"id\",\"rm-no-id-\"+incr);if(!$(this).attr(\"class\"))$(this).attr(\"class\",\"rm-no-class\");$(this).data(\"removeattr\",true).data(\"rmids\",$(this).attr(\"id\")).data(\"rmclasses\",$(this).attr(\"class\"))});$(menuElement).addClass(\"responsive-menus-simple\")}function remove_classes_ids(menuElement){$(menuElement).find(\"ul\").each(function(){$(this).attr(\"class\",\"rm-removed\").attr(\"id\",\"rm-removed\")});$(menuElement).attr(\"class\",\"responsive-menus-simple\").attr(\"id\",\"rm-removed\")}Drupal.behaviors.responsive_menus={attach:function(context,settings){settings.responsive_menus=settings.responsive_menus||{};$(\"body\").once(\"responsive-menus-load\",function(){if(!$(\"meta[name=viewport]\").length>0)$(\"head\").append('<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">');var windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$.each(settings.responsive_menus,function(ind,iteration){if(iteration.responsive_menus_style!=\"responsive_menus_simple\")return true;if(!iteration.selectors.length)return true;var $media_unit=iteration.media_unit||\"px\";if($media_unit===\"em\"){var $base_font_size=parseFloat($(\"body\").css(\"font-size\"));var $media_size=iteration.media_size*$base_font_size||768}else var $media_size=iteration.media_size||768;var toggler_class=\"\";var toggler_text=iteration.toggler_text;$.each(iteration.selectors,function(index,value){if($(value).length<1)return true;if($(value).length>1)$(value).each(function(val_index){if(!$(this).parents(\"ul\").length)if(!$(this).hasClass(\"responsive-menus-simple\")){toggler_class=\"responsive-menus-\"+ind+\"-\"+index+\"-\"+val_index;if(iteration.remove_attributes)store_classes_ids(this);$(this).wrap('<div data-mediasize=\"'+$media_size+'\" class=\"responsive-menus '+toggler_class+'\" />');$(\".\"+toggler_class).prepend('<span class=\"toggler\">'+toggler_text+\"</span>\");$(\".\"+toggler_class+\" .toggler\").bind(\"click\",toggler_click);if(iteration.disable_mouse_events)remove_mouse_events(this);if(iteration.absolute)$(\".\"+toggler_class).addClass(\"absolute\");if(windowWidth<=$media_size){if(iteration.remove_attributes)remove_classes_ids(this);$(\".\"+toggler_class).addClass(\"responsified\")}}});else if(!$(value).hasClass(\"responsive-menus-simple\")){toggler_class=\"responsive-menus-\"+ind+\"-\"+index;if(iteration.remove_attributes)store_classes_ids(value);$(value).wrap('<div data-mediasize=\"'+$media_size+'\" class=\"responsive-menus '+toggler_class+'\" />');$(\".\"+toggler_class).prepend('<span class=\"toggler\">'+toggler_text+\"</span>\");$(\".\"+toggler_class+\" .toggler\").bind(\"click\",toggler_click);if(iteration.disable_mouse_events)remove_mouse_events(value);if(iteration.absolute)$(\".\"+toggler_class).addClass(\"absolute\");if(windowWidth<=$media_size){if(iteration.remove_attributes)remove_classes_ids(value);$(\".\"+toggler_class).addClass(\"responsified\")}}})});$(window).resize(function(){windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(\".responsive-menus\").each(function(menuIndex,menuValue){var mediasize=$(this).data(\"mediasize\")||768;if($(this).width()>windowWidth){$(this).data(\"nonresponsive\",true);$(this).width(windowWidth)}var menuElement=$(this).find(\".responsive-menus-simple\");if(windowWidth>=mediasize){if(menuElement.data(\"removeattr\")){menuElement.addClass(menuElement.data(\"rmclasses\"));menuElement.attr(\"id\",menuElement.data(\"rmids\"));menuElement.find(\"ul\").each(function(){$(this).addClass($(this).data(\"rmclasses\"));$(this).attr(\"id\",$(this).data(\"rmids\"))})}$(this).removeClass(\"responsified\")}if(windowWidth<=mediasize){if($(this).data(\"nonresponsive\")&&$(this).width()<windowWidth)$(this).width(windowWidth);if(menuElement.data(\"removeattr\"))remove_classes_ids(menuElement);$(this).addClass(\"responsified\")}})})})}}})(jQuery);;(function($){Drupal.behaviors.ViewsAjaxView={};Drupal.behaviors.ViewsAjaxView.attach=function(){if(Drupal.settings&&Drupal.settings.views&&Drupal.settings.views.ajaxViews)$.each(Drupal.settings.views.ajaxViews,function(i,settings){Drupal.views.instances[i]=new Drupal.views.ajaxView(settings)})};Drupal.views={};Drupal.views.instances={};Drupal.views.ajaxView=function(settings){var selector=\".view-dom-id-\"+settings.view_dom_id;this.$view=$(selector);var ajax_path=Drupal.settings.views.ajax_path;if(ajax_path.constructor.toString().indexOf(\"Array\")!=-1)ajax_path=ajax_path[0];var queryString=window.location.search||\"\";if(queryString!==\"\"){var queryString=queryString.slice(1).replace(/q=[^&]+&?|&?render=[^&]+/,\"\");if(queryString!==\"\")queryString=(/\\?/.test(ajax_path)?\"&\":\"?\")+queryString}this.element_settings={url:ajax_path+queryString,submit:settings,setClick:true,event:\"click\",selector:selector,progress:{type:\"throbber\"}};this.settings=settings;this.$exposed_form=$(\"#views-exposed-form-\"+settings.view_name.replace(/_/g,\"-\")+\"-\"+settings.view_display_id.replace(/_/g,\"-\"));this.$exposed_form.once(jQuery.proxy(this.attachExposedFormAjax,this));this.links=[];this.$view.filter(jQuery.proxy(this.filterNestedViews,this)).once(jQuery.proxy(this.attachPagerAjax,this));var self_settings=this.element_settings;self_settings.event=\"RefreshView\";this.refreshViewAjax=new Drupal.ajax(this.selector,this.$view,self_settings)};Drupal.views.ajaxView.prototype.attachExposedFormAjax=function(){var button=$(\"input[type=submit], button[type=submit], input[type=image]\",this.$exposed_form);button=button[0];$(button).click(function(){if(Drupal.autocompleteSubmit)Drupal.autocompleteSubmit()});this.exposedFormAjax=new Drupal.ajax($(button).attr(\"id\"),button,this.element_settings)};Drupal.views.ajaxView.prototype.filterNestedViews=function(){return!this.$view.parents(\".view\").length};Drupal.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find(\"ul.pager > li > a, th.views-field a, .attachment .views-summary a\").each(jQuery.proxy(this.attachPagerLinkAjax,this))};Drupal.views.ajaxView.prototype.attachPagerLinkAjax=function(id,link){var $link=$(link);var viewData={};var href=$link.attr(\"href\");$.extend(viewData,this.settings,Drupal.Views.parseQueryString(href),Drupal.Views.parseViewArgs(href,this.settings.view_base_path));$.extend(viewData,Drupal.Views.parseViewArgs(href,this.settings.view_base_path));this.element_settings.submit=viewData;this.pagerAjax=new Drupal.ajax(false,$link,this.element_settings);this.links.push(this.pagerAjax)};Drupal.ajax.prototype.commands.viewsScrollTop=function(ajax,response,status){var offset=$(response.selector).offset();var scrollTarget=response.selector;while($(scrollTarget).scrollTop()==0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())$(scrollTarget).animate({scrollTop:offset.top-10},500)}})(jQuery);;(function($){Drupal.FieldGroup=Drupal.FieldGroup||{};Drupal.FieldGroup.Effects=Drupal.FieldGroup.Effects||{};Drupal.FieldGroup.groupWithfocus=null;Drupal.FieldGroup.setGroupWithfocus=function(element){element.css({display:\"block\"});Drupal.FieldGroup.groupWithfocus=element};Drupal.FieldGroup.Effects.processFieldset={execute:function(context,settings,type){if(type==\"form\")$(\"fieldset.fieldset\",context).once(\"fieldgroup-effects\",function(i){if($(this).is(\".required-fields\")&&$(this).find(\".form-required\").length>0)$(\"legend span.fieldset-legend\",$(this)).eq(0).append(\" \").append($(\".form-required\").eq(0).clone());if($(\".error\",$(this)).length){$(\"legend span.fieldset-legend\",$(this)).eq(0).addClass(\"error\");Drupal.FieldGroup.setGroupWithfocus($(this))}})}};Drupal.FieldGroup.Effects.processAccordion={execute:function(context,settings,type){$(\"div.field-group-accordion-wrapper\",context).once(\"fieldgroup-effects\",function(){var wrapper=$(this);var active_index=false;wrapper.find(\".accordion-item\").each(function(i){if($(this).hasClass(\"field-group-accordion-active\"))active_index=i});wrapper.accordion({heightStyle:\"content\",active:active_index,collapsible:true,changestart:function(event,ui){if($(this).hasClass(\"effect-none\"))ui.options.animated=false;else ui.options.animated=\"slide\"}});if(type==\"form\"){var $firstErrorItem=false;wrapper.find(\"div.field-group-accordion-item\").each(function(i){if($(this).is(\".required-fields\")&&$(this).find(\".form-required\").length>0)$(\"h3.ui-accordion-header a\").eq(i).append(\" \").append($(\".form-required\").eq(0).clone());if($(\".error\",$(this)).length){if(!$firstErrorItem)$firstErrorItem=$(this).parent().accordion(\"activate\",i);$(\"h3.ui-accordion-header\").eq(i).addClass(\"error\")}});if(!$firstErrorItem)$(\".ui-accordion-content-active\",$firstErrorItem).css({height:\"auto\",width:\"auto\",display:\"block\"})}})}};Drupal.FieldGroup.Effects.processHtabs={execute:function(context,settings,type){if(type==\"form\")$(\"fieldset.horizontal-tabs-pane\",context).once(\"fieldgroup-effects\",function(i){if($(this).is(\".required-fields\")&&$(this).find(\".form-required\").length>0)$(this).data(\"horizontalTab\").link.find(\"strong:first\").after($(\".form-required\").eq(0).clone()).after(\" \");if($(\".error\",$(this)).length){$(this).data(\"horizontalTab\").link.parent().addClass(\"error\");Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data(\"horizontalTab\").focus()}})}};Drupal.FieldGroup.Effects.processTabs={execute:function(context,settings,type){if(type==\"form\"){var errorFocussed=false;$(\"fieldset.vertical-tabs-pane\",context).once(\"fieldgroup-effects\",function(i){if($(this).is(\".required-fields\")&&$(this).find(\".form-required\").length>0)$(this).data(\"verticalTab\").link.find(\"strong:first\").after($(\".form-required\").eq(0).clone()).after(\" \");if($(\".error\",$(this)).length){$(this).data(\"verticalTab\").link.parent().addClass(\"error\");if(!errorFocussed){Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data(\"verticalTab\").focus();errorFocussed=true}}})}}};Drupal.FieldGroup.Effects.processDiv={execute:function(context,settings,type){$(\"div.collapsible\",context).once(\"fieldgroup-effects\",function(){var $wrapper=$(this);var $toggler=$(\"span.field-group-format-toggler:first\",$wrapper);var $link=$('<a class=\"field-group-format-title\" href=\"#\"></a>');$link.prepend($toggler.contents());if($(this).is(\".required-fields\")&&$(this).find(\".form-required\").length>0)$link.append(\" \").append($(\".form-required\").eq(0).clone());$link.appendTo($toggler);$link.click(function(){var wrapper=$wrapper.get(0);if(!wrapper.animating){wrapper.animating=true;var speed=$wrapper.hasClass(\"speed-fast\")?300:1E3;if($wrapper.hasClass(\"effect-none\")&&$wrapper.hasClass(\"speed-none\"))$(\"> .field-group-format-wrapper\",wrapper).toggle();else if($wrapper.hasClass(\"effect-blind\"))$(\"> .field-group-format-wrapper\",wrapper).toggle(\"blind\",{},speed);else $(\"> .field-group-format-wrapper\",wrapper).toggle(speed);wrapper.animating=false}$wrapper.toggleClass(\"collapsed\");return false})})}};Drupal.behaviors.fieldGroup={attach:function(context,settings){settings.field_group=settings.field_group||Drupal.settings.field_group;if(settings.field_group==undefined)return;$.each(Drupal.FieldGroup.Effects,function(func){var type=func.toLowerCase().replace(\"process\",\"\");if(settings.field_group[type]!=undefined&&$.isFunction(this.execute))this.execute(context,settings,settings.field_group[type])});$(\".fieldset-wrapper .fieldset > legend\").css({display:\"block\"});$(\".vertical-tabs fieldset.fieldset\").addClass(\"default-fallback\");$(\".group-wrapper .horizontal-tabs-panes > fieldset\",context).once(\"group-wrapper-panes-processed\",function(){var fieldgroupID=\"field_group-\"+$(this).attr(\"id\");$(this).attr(\"id\",fieldgroupID)});$(\".group-wrapper ul li\").once(\"group-wrapper-ul-processed\",function(){var fieldGroupNavigationListIndex=$(this).index();$(this).children(\"a\").click(function(){var fieldset=$(\".group-wrapper fieldset\").get(fieldGroupNavigationListIndex);var hashUrl=$(fieldset).attr(\"id\").replace(/^field_group-/,\"\").split(\" \")[0];window.location.hash=hashUrl})})}}})(jQuery);;(function($){Drupal.toggleFieldset=function(fieldset){var $fieldset=$(fieldset);if($fieldset.is(\".collapsed\")){var $content=$(\"> .fieldset-wrapper\",fieldset).hide();$fieldset.removeClass(\"collapsed\").trigger({type:\"collapsed\",value:false}).find(\"> legend span.fieldset-legend-prefix\").html(Drupal.t(\"Hide\"));$content.slideDown({duration:\"fast\",easing:\"linear\",complete:function(){Drupal.collapseScrollIntoView(fieldset);fieldset.animating=false},step:function(){Drupal.collapseScrollIntoView(fieldset)}})}else{$fieldset.trigger({type:\"collapsed\",value:true});$(\"> .fieldset-wrapper\",fieldset).slideUp(\"fast\",function(){$fieldset.addClass(\"collapsed\").find(\"> legend span.fieldset-legend-prefix\").html(Drupal.t(\"Show\"));fieldset.animating=false})}};Drupal.collapseScrollIntoView=function(node){var h=document.documentElement.clientHeight||document.body.clientHeight||0;var offset=document.documentElement.scrollTop||document.body.scrollTop||0;var posY=$(node).offset().top;var fudge=55;if(posY+node.offsetHeight+fudge>h+offset)if(node.offsetHeight>h)window.scrollTo(0,posY);else window.scrollTo(0,posY+node.offsetHeight-h+fudge)};Drupal.behaviors.collapse={attach:function(context,settings){$(\"fieldset.collapsible\",context).once(\"collapse\",function(){var $fieldset=$(this);var anchor=location.hash&&location.hash!=\"#\"?\", \"+location.hash:\"\";if($fieldset.find(\".error\"+anchor).length)$fieldset.removeClass(\"collapsed\");var summary=$('<span class=\"summary\"></span>');$fieldset.bind(\"summaryUpdated\",function(){var text=$.trim($fieldset.drupalGetSummary());summary.html(text?\" (\"+text+\")\":\"\")}).trigger(\"summaryUpdated\");var $legend=$(\"> legend .fieldset-legend\",this);$('<span class=\"fieldset-legend-prefix element-invisible\"></span>').append($fieldset.hasClass(\"collapsed\")?Drupal.t(\"Show\"):Drupal.t(\"Hide\")).prependTo($legend).after(\" \");var $link=$('<a class=\"fieldset-title\" href=\"#\"></a>').prepend($legend.contents()).appendTo($legend).click(function(){var fieldset=$fieldset.get(0);if(!fieldset.animating){fieldset.animating=true;Drupal.toggleFieldset(fieldset)}return false});$legend.append(summary)})}}})(jQuery);;(function($){Drupal.behaviors.ng_lightbox={attach:function(context,settings){if(!settings.ng_lightbox_init){NGLightbox.initialize();settings.ng_lightbox_init=true}$(\".lightbox__overlay\").click(function(e){if($(e.target).is(\".lightbox__overlay, .lightbox__header\"))NGLightbox.hide($(this).closest(\".lightbox__overlay\").get(0))});$(\".ng-lightbox:not(.\"+NGLightbox.processed+\")\").each(function(){NGLightbox.initElement(this)})}};window.NGLightbox={processed:\"ng-lightbox-processed\",lightboxId:\"ng-lightbox\",initElement:function(element,path){var $element=$(element);if($element.hasClass(this.processed))return;if(typeof path===\"undefined\")path=$element.attr(\"href\");var element_settings={url:Drupal.settings.basePath+\"ng-lightbox\",event:\"click\",wrapper:this.lightboxId,method:\"append\",submit:{ng_lightbox_path:path}};Drupal.ajax[this.lightboxId]=new Drupal.ajax(this.lightboxId,element,element_settings);$element.addClass(this.processed);var successCallback=Drupal.ajax[this.lightboxId].options.success;Drupal.ajax[this.lightboxId].options.success=function(response,status,xmlhttprequest){successCallback(response,status,xmlhttprequest);var $lightbox=$(\"#\"+NGLightbox.lightboxId);$lightbox.find(\"input\").first().focus();$lightbox.trigger(\"ng-lightbox-loaded\")}},hide:function(element){var $element=$(element);$(\"body\").removeClass(\"lock\");$element.addClass(\"ng-hidden\");$(\"#\"+this.lightboxId).empty()},initialize:function(){$(\"body\").addClass(\"ng-lightbox-ready\").append('<div id=\"'+this.lightboxId+'\"></div>');var self=this;$(document).keyup(function(e){if(e.which===27)self.hide($(\".lightbox__overlay\").get(0))})}}})(jQuery);;(function($){Drupal.behaviors.colorboxNode={attach:function(context,settings){if(!$.isFunction($.colorbox)||typeof settings.colorbox===\"undefined\")return;if(settings.colorbox.mobiledetect&&window.matchMedia){var mq=window.matchMedia(\"(max-device-width: \"+settings.colorbox.mobiledevicewidth+\")\");if(mq.matches)return}$(\".colorbox-node\",context).once(\"init-colorbox-node-processed\",function(){$(this).colorboxNode({\"launch\":false})});$(\"ul.contextual-links a\",context).once(\"colorboxNodeContextual\").click(function(){$.colorbox.close()})}};$.fn.colorboxNode=function(options){var settings={\"launch\":true,\"width\":Drupal.settings.colorbox_node.width,\"height\":Drupal.settings.colorbox_node.height};$.extend(settings,options);var href=$(this).attr(\"data-href\");if(typeof href==\"undefined\"||href==false)href=$(this).attr(\"href\");var parse=document.createElement(\"a\");parse.href=href;if(!href)alert(Drupal.t(\"No url found on element\"));var base_path=Drupal.settings.basePath;var path_prefix=Drupal.settings.pathPrefix;var pathname=parse.pathname;if(pathname.charAt(0)!=\"/\")pathname=\"/\"+parse.pathname;var url=$.getParameterByName(\"q\",href);if(base_path!=\"/\")if(url!=\"\")var link=pathname.replace(base_path,base_path+parse.search.replace(\"?q=\",\"?q=/\"+path_prefix+\"colorbox/\"));else var link=pathname.replace(base_path,base_path+path_prefix+\"colorbox/\")+parse.search;else if(url!=\"\")var link=base_path+parse.search.replace(\"?q=\",\"?q=/\"+path_prefix+\"colorbox/\");else var link=base_path+path_prefix+\"colorbox\"+pathname+parse.search;var element_settings={};element_settings.progress={\"type\":\"none\"};if(href){element_settings.url=link;element_settings.event=\"click\"}$(this).click(function(){var $this=$(this).clone();if(!$this.hasClass(\"colorbox-node-gallery\"))$this.attr(\"rel\",\"\");var innerWidth=$this.data(\"inner-width\");var innerHeight=$this.data(\"inner-height\");if(typeof innerWidth!=\"undefined\"&&typeof innerHeight!=\"undefined\")var params=$.urlDataParams(innerWidth,innerHeight);else var params=$.urlParams(href);if(params.innerHeight==undefined)params.innerHeight=settings.height;if(params.innerWidth==undefined)params.innerWidth=settings.width;params.html='<div id=\"colorboxNodeLoading\"></div>';params.onComplete=function(){$this.colorboxNodeGroup()};params.open=true;$this.colorbox($.extend({},Drupal.settings.colorbox,params))});var base=$(this).attr(\"id\");Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);if(settings.launch){Drupal.ajax[base].eventResponse(this,\"click\");$(this).click()}};$.fn.colorboxNodeGroup=function(){var $this=$(this);var rel=$this.attr(\"rel\");if(rel&&$this.hasClass(\"colorbox-node-gallery\")){var getIndex=function(increment){var max=$related.length;var newIndex=(idx+increment)%max;return newIndex<0?max+newIndex:newIndex};if($('a.colorbox-node-gallery[rel=\"'+rel+'\"]:not(\"#colorbox a[rel=\"'+rel+'\"]\")').length>1){$related=$('a.colorbox-node-gallery[rel=\"'+rel+'\"]:not(\"#colorbox a[rel=\"'+rel+'\"]\")');var $related_unique=[];$related.each(function(){$.findHref($related_unique,this.href);if(!$.findHref($related_unique,this.href).length)$related_unique.push(this)});var current=$.findHref($related_unique,$this.get(0).href);$related=$($related_unique);var idx=$related.index($(current));var tot=$related.length;$(\"#cboxPrevious, #cboxNext\").show();$.colorbox.next=function(){index=getIndex(1);$related[index].click()};$.colorbox.prev=function(){index=getIndex(-1);$related[index].click()};$(\"#cboxCurrent\").html(Drupal.settings.colorbox.current.replace(\"{current}\",idx+1).replace(\"{total}\",tot)).show();$(\"#cboxNext\").html(Drupal.settings.colorbox.next).show();$(\"#cboxPrevious\").html(Drupal.settings.colorbox.previous).show();var prefix=\"colorbox\";$(document).unbind(\"keydown.\"+prefix);$(document).bind(\"keydown.\"+prefix,function(e){var key=e.keyCode;if($related[1]&&!e.altKey)if(key===37){e.preventDefault();$.colorbox.prev()}else if(key===39){e.preventDefault();$.colorbox.next()}})}}};$.findHref=function(items,href){return $.grep(items,function(n,i){return n.href==href})};$.urlParams=function(url){var p={},e,a=/\\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a,\" \"))},q=url.split(\"?\");while(e=r.exec(q[1])){e[1]=d(e[1]);e[2]=d(e[2]);switch(e[2].toLowerCase()){case\"true\":case\"yes\":e[2]=true;break;case\"false\":case\"no\":e[2]=false;break}if(e[1]==\"width\")e[1]=\"innerWidth\";if(e[1]==\"height\")e[1]=\"innerHeight\";p[e[1]]=e[2]}return p};$.urlDataParams=function(innerWidth,innerHeight){return{\"innerWidth\":innerWidth,\"innerHeight\":innerHeight}};$.getParameterByName=function(name,href){name=name.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var regexString=\"[\\\\?&]\"+name+\"=([^&#]*)\";var regex=new RegExp(regexString);var found=regex.exec(href);if(found==null)return\"\";else return decodeURIComponent(found[1].replace(/\\+/g,\" \"))}})(jQuery);;";
